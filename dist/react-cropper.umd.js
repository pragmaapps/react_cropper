"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("cropperjs"),o=function(){return o=Object.assign||function(e){for(var r,o=1,t=arguments.length;o<t;o++)for(var n in r=arguments[o])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},o.apply(this,arguments)};function t(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]])}return o}var n=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],a={opacity:0,maxWidth:"100%"},c=e.forwardRef((function(c,i){var l=t(c,[]),u=l.dragMode,s=void 0===u?"crop":u,p=l.src,d=l.style,f=l.className;l.crossOrigin;var v=l.scaleX,m=l.scaleY,y=l.enable,b=l.zoomTo,g=l.rotateTo;l.alt;var h=l.ready,O=l.onInitialized,T=t(l,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),z={scaleY:m,scaleX:v,enable:y,zoomTo:b,rotateTo:g},x=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var t=e.useRef(null);return e.useEffect((function(){r.forEach((function(e){e&&("function"==typeof e?e(t.current):e.current=t.current)}))}),[r]),t}(i,e.useRef(null));e.useEffect((function(){var e;(null===(e=x.current)||void 0===e?void 0:e.cropper)&&"number"==typeof b&&x.current.cropper.zoomTo(b)}),[l.zoomTo]),e.useEffect((function(){var e;(null===(e=x.current)||void 0===e?void 0:e.cropper)&&void 0!==p&&x.current.cropper.reset().clear().replace(p)}),[p]),e.useEffect((function(){if(null!==x.current){var e=new r(x.current,o(o({dragMode:s},T),{ready:function(e){null!==e.currentTarget&&function(e,r){void 0===r&&(r={});var o=r.enable,t=void 0===o||o,n=r.scaleX,a=void 0===n?1:n,c=r.scaleY,i=void 0===c?1:c,l=r.zoomTo,u=void 0===l?0:l,s=r.rotateTo;t?e.enable():e.disable(),e.scaleX(a),e.scaleY(i),void 0!==s&&e.rotateTo(s),u>0&&e.zoomTo(u)}(e.currentTarget.cropper,z),h&&h(e)}}));O&&O(e)}return function(){var e,r;null===(r=null===(e=x.current)||void 0===e?void 0:e.cropper)||void 0===r||r.destroy()}}),[x]);var C=function(e){return n.reduce((function(e,r){var o=e,n=r;return o[n],t(o,["symbol"==typeof n?n:n+""])}),e)}(o({},T));return e.createElement("div",{style:d,className:f},e.createElement("canvas",o({},C,{style:a,ref:x})))}));exports.Cropper=c,exports.default=c;
